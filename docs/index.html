<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.15">
<title data-react-helmet="true">Uscheduler | Uscheduler</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://unicm.github.io/Uscheduler/docs/"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Uscheduler | Uscheduler"><meta data-react-helmet="true" name="description" content="简介"><meta data-react-helmet="true" property="og:description" content="简介"><link data-react-helmet="true" rel="icon" href="/Uscheduler/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://unicm.github.io/Uscheduler/docs/"><link data-react-helmet="true" rel="alternate" href="https://unicm.github.io/Uscheduler/docs/" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://unicm.github.io/Uscheduler/docs/" hreflang="x-default"><link rel="stylesheet" href="/Uscheduler/assets/css/styles.50115643.css">
<link rel="preload" href="/Uscheduler/assets/js/runtime~main.040f5733.js" as="script">
<link rel="preload" href="/Uscheduler/assets/js/main.373be463.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/Uscheduler/"><div class="navbar__logo"><img src="/Uscheduler/img/logo.svg" alt="Uscheduler Logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/Uscheduler/img/logo.svg" alt="Uscheduler Logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">Uscheduler</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/Uscheduler/docs/">文档中心</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/unicm/Uscheduler" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_Pssr toggle_TdHA toggleDisabled_jDku"><div class="toggleTrack_SSoT" role="button" tabindex="-1"><div class="toggleTrackCheck_XobZ"><span class="toggleIcon_eZtF">🌜</span></div><div class="toggleTrackX_YkSC"><span class="toggleIcon_eZtF">🌞</span></div><div class="toggleTrackThumb_uRm4"></div></div><input type="checkbox" class="toggleScreenReader_JnkT" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_CW9Y"><nav class="menu thin-scrollbar menu_SkdO"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/Uscheduler/docs/">Uscheduler</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/Uscheduler/docs/使用文档/执行器/sparkSQL">使用文档</a></div></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Uscheduler</h1><h2 class="anchor anchorWithStickyNavbar_mojV" id="简介">简介<a class="hash-link" href="#简介" title="Direct link to heading">​</a></h2><p>调度系统Uscheduler，是基于Apache DolphinScheduler改造的增强版调度系统。Uscheduler是一个分布式易扩展的可视化DAG工作流任务调度开源系统。
解决数据研发ETL 错综复杂的依赖关系，不能直观监控任务健康状态等问题，以DAG流式的方式将Task组装起来，可实时监控任务的运行状态，同时支持重试、从指定节点恢复失败、暂停及Kill任务等操作。
支持原生所有任务类型（Spark、Flink、Datax、Shell、Python等），还扩展了SparkSQL、HiveSQL、SparkShell等任务类型。
详情请见dolphinscheduler官网(1.3.2版本): <a href="https://dolphinscheduler.apache.org/zh-cn/docs/1.3.2/user_doc/quick-start.html" target="_blank" rel="noopener noreferrer">https://dolphinscheduler.apache.org/zh-cn/docs/1.3.2/user_doc/quick-start.html</a></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="特性">特性<a class="hash-link" href="#特性" title="Direct link to heading">​</a></h3><p>Uscheduler是一个分布式易扩展的可视化DAG工作流任务调度系统。致力于解决数据处理流程中错综复杂的依赖关系，使调度系统在数据处理流程中开箱即用。其特性如下：</p><ul><li>以DAG图的方式将Task按照任务的依赖关系关联起来，可实时可视化监控任务的运行状态</li><li>支持丰富的任务类型：SparkSQL、HiveSQL、SparkShell、Shell、MR、Spark、SQL、Python、Sub_Process、Procedure等</li><li>支持工作流定时调度、依赖调度、手动调度、手动暂停/停止/恢复，同时支持失败重试/告警、从指定节点恢复失败、Kill任务等操作</li><li>支持工作流优先级、任务优先级及任务的故障转移及任务超时告警/失败</li><li>支持工作流全局参数及节点自定义参数设置</li><li>支持资源文件的在线上传/下载，管理等，支持在线文件创建、编辑</li><li>支持任务日志在线查看及滚动、在线下载日志等</li><li>实现集群HA，通过Zookeeper实现Master集群和Worker集群去中心化</li><li>支持对Master/Worker cpu load，memory，cpu在线查看</li><li>支持工作流运行历史树形/甘特图展示、支持任务状态统计、流程状态统计</li><li>支持补数</li><li>支持多租户</li><li>支持国际化</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="安装">安装<a class="hash-link" href="#安装" title="Direct link to heading">​</a></h2><p>本地下载了Uscheduler</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="使用说明">使用说明<a class="hash-link" href="#使用说明" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="扩展执行器">扩展执行器<a class="hash-link" href="#扩展执行器" title="Direct link to heading">​</a></h3><ul><li>SparkSQL任务</li><li>HiveSQL任务</li><li>SparkShell任务</li><li>QualityV2质控任务</li></ul><p>更多请见dolphinscheduler官网(1.3.2版本): <a href="https://dolphinscheduler.apache.org/zh-cn/docs/1.3.2/user_doc/system-manual.html" target="_blank" rel="noopener noreferrer">https://dolphinscheduler.apache.org/zh-cn/docs/1.3.2/user_doc/system-manual.html</a></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="模块说明">模块说明<a class="hash-link" href="#模块说明" title="Direct link to heading">​</a></h2><ul><li><code>common</code> 内部公共模块</li><li><code>executor</code> 内部扩展执行器<ul><li><code>hive-sql-executor</code> HiveSQL执行器</li><li><code>spark-doris-connector</code> Spark Doris连接器,是spark-scala-executor的依赖</li><li><code>spark-sql-executor</code> SparkSQL执行器</li><li><code>spark-scala-executor</code> SparkShell执行器</li><li><code>spark-qualityV2-executor</code> spark-qualityV2质控V2新版</li></ul></li><li><code>dolphinscheduler-alert</code> 告警模块</li><li><code>dolphinscheduler-api</code> API模块,用于接口交互</li><li><code>dolphinscheduler-common</code> 公共模块</li><li><code>dolphinscheduler-dao</code> dao模块,用于数据库操作</li><li><code>dolphinscheduler-dist</code> dist模块,用于打包</li><li><code>dolphinscheduler-remote</code> remote模块</li><li><code>dolphinscheduler-server</code> server模块,用于master与worker</li><li><code>dolphinscheduler-service</code> service模块</li><li><code>dolphinscheduler-ui</code> 前端UI模块</li><li><code>docs</code> markdown文档</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="编译使用">编译使用<a class="hash-link" href="#编译使用" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="编译ds">编译ds<a class="hash-link" href="#编译ds" title="Direct link to heading">​</a></h3><p>将编译所有模块，建议先在pom将注释掉executor模块。单独编译executor
<code>./mvnw clean install -Prelease</code></p><p>执行结束，将在dolphinscheduler-dist\target下生成压缩包</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="编译执行器executor">编译执行器executor<a class="hash-link" href="#编译执行器executor" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_mojV" id="编译全部执行器">编译全部执行器<a class="hash-link" href="#编译全部执行器" title="Direct link to heading">​</a></h4><p><code>./bin/build_release.sh</code></p><p>执行结束，将在executor生成executor_xx目录，里面包含各个执行器</p><h5 class="anchor anchorWithStickyNavbar_mojV" id="单独某个执行器">单独某个执行器<a class="hash-link" href="#单独某个执行器" title="Direct link to heading">​</a></h5><p>进入子模块执行
<code>build.sh</code></p><p>执行结束,将在该子模块target下生成jar包</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="调试">调试<a class="hash-link" href="#调试" title="Direct link to heading">​</a></h3><p>请见本地调试</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="更新部署">更新部署<a class="hash-link" href="#更新部署" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_mojV" id="ds更新部署">ds更新部署<a class="hash-link" href="#ds更新部署" title="Direct link to heading">​</a></h4><p>解压dist\target生成的压缩包。更新如下目录：</p><ul><li><code>conf/org</code> mapper xml文件</li><li><code>lib</code> ds的编译jar包与依赖</li><li><code>ui</code> ds的前端</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="启停命令">启停命令<a class="hash-link" href="#启停命令" title="Direct link to heading">​</a></h3><p><code>dolphinscheduler-daemon.sh (start|stop) &lt;api-server|master-server|worker-server|alert-server|logger-server&gt;</code></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="版本设置">版本设置<a class="hash-link" href="#版本设置" title="Direct link to heading">​</a></h3><p>设置ds与执行器的新版本</p><p><code>set_release-all.sh 新版本号</code></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/unicm/Uscheduler/docs/README.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/Uscheduler/docs/使用文档/执行器/sparkSQL"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">SparkSQL</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#简介" class="table-of-contents__link toc-highlight">简介</a><ul><li><a href="#特性" class="table-of-contents__link toc-highlight">特性</a></li></ul></li><li><a href="#安装" class="table-of-contents__link toc-highlight">安装</a></li><li><a href="#使用说明" class="table-of-contents__link toc-highlight">使用说明</a><ul><li><a href="#扩展执行器" class="table-of-contents__link toc-highlight">扩展执行器</a></li></ul></li><li><a href="#模块说明" class="table-of-contents__link toc-highlight">模块说明</a></li><li><a href="#编译使用" class="table-of-contents__link toc-highlight">编译使用</a><ul><li><a href="#编译ds" class="table-of-contents__link toc-highlight">编译ds</a></li><li><a href="#编译执行器executor" class="table-of-contents__link toc-highlight">编译执行器executor</a></li><li><a href="#调试" class="table-of-contents__link toc-highlight">调试</a></li><li><a href="#更新部署" class="table-of-contents__link toc-highlight">更新部署</a></li><li><a href="#启停命令" class="table-of-contents__link toc-highlight">启停命令</a></li><li><a href="#版本设置" class="table-of-contents__link toc-highlight">版本设置</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">文档</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/Uscheduler/docs">文档中心</a></li></ul></div><div class="col footer__col"><div class="footer__title">社区</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/unicm/Uscheduler" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>建议<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">更多</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/unicm/Uscheduler" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 Uscheduler. unicm团队. 所有.</div></div></div></footer></div>
<script src="/Uscheduler/assets/js/runtime~main.040f5733.js"></script>
<script src="/Uscheduler/assets/js/main.373be463.js"></script>
</body>
</html>